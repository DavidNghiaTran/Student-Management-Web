{% extends "_layout.html" %}

{% block title %}Qu·∫£n l√Ω Gi·∫£ng vi√™n{% endblock %}

{% block styles %}
<style>
    .teacher-card {
        background: linear-gradient(135deg, rgba(255,255,255,0.16), rgba(255,255,255,0.04));
        border: 1px solid rgba(255,255,255,0.08);
        box-shadow: 0 30px 60px rgba(8,15,40,0.35);
        border-radius: 28px;
        padding: 32px;
    }
    .teacher-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: 16px;
        flex-wrap: wrap;
        margin-bottom: 28px;
    }
    .teacher-header .title {
        display: flex;
        align-items: center;
        gap: 16px;
    }
    .teacher-header .title span.icon {
        font-size: 2rem;
        line-height: 1;
    }
    .teacher-header h2 {
        margin: 0;
        font-size: 1.8rem;
        color: #fcfbfb;
    }
    .teacher-header p {
        margin: 0;
        color: rgba(255,255,255,0.7);
    }
    .teacher-count {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        padding: 10px 18px;
        border-radius: 999px;
        background: rgba(99,102,241,0.2);
        color: #e0e7ff;
        font-weight: 600;
        letter-spacing: 0.04em;
    }
    .teacher-manager-grid {
        display: grid;
        grid-template-columns: minmax(0, 3fr) minmax(320px, 1.3fr);
        gap: 28px;
        align-items: stretch;
    }
    .teacher-panel {
        background: rgba(255,255,255,0.08);
        border-radius: 24px;
        padding: 22px 24px 26px;
        border: 1px solid rgba(255,255,255,0.08);
        box-shadow: inset 0 1px 0 rgba(255,255,255,0.05);
    }
    .teacher-panel h3 {
        margin-bottom: 12px;
        font-size: 1.1rem;
        text-transform: uppercase;
        letter-spacing: 0.05em;
        color: #f1f5ff;
    }
    .teacher-table-wrapper {
        border-radius: 20px;
        border: 1px solid rgba(255,255,255,0.15);
        background: linear-gradient(180deg, rgba(15,23,42,0.85), rgba(15,23,42,0.65));
        max-height: 420px;
        overflow: auto;
    }
    .teacher-table {
        width: 100%;
        border-collapse: collapse;
        color: #f8fafc;
        font-size: 0.95rem;
    }
    .teacher-table th {
        font-size: 0.85rem;
        text-transform: uppercase;
        letter-spacing: 0.05em;
        padding: 14px 18px;
        background: rgba(148,163,255,0.08);
        color: #c7d2fe;
        position: sticky;
        top: 0;
        z-index: 1;
    }
    .teacher-table td {
        padding: 14px 18px;
        border-top: 1px solid rgba(255,255,255,0.06);
    }
    .teacher-table tbody tr:nth-child(even) {
        background: rgba(255,255,255,0.02);
    }
    .teacher-table tbody tr:hover {
        background: rgba(59,130,246,0.16);
    }
    .teacher-form form {
        display: flex;
        flex-direction: column;
        gap: 12px;
    }
    .teacher-form label {
        font-size: 0.85rem;
        text-transform: uppercase;
        letter-spacing: 0.06em;
        color: rgba(255,255,255,0.75);
    }
    .teacher-form input,
    .teacher-form select {
        border-radius: 16px;
        padding: 12px 16px;
        background: rgba(15,23,42,0.85);
        border: 1px solid rgba(255,255,255,0.12);
        color: #f8fafc;
        transition: border-color 0.2s, box-shadow 0.2s;
    }
    .teacher-form input:focus,
    .teacher-form select:focus {
        border-color: rgba(99,102,241,0.7);
        box-shadow: 0 0 0 4px rgba(79,70,229,0.25);
        outline: none;
    }
    .teacher-form small {
        color: rgba(255,255,255,0.65);
        margin-bottom: 10px;
        display: block;
        font-size: 0.9rem;
    }
    .teacher-form input[type="submit"] {
        margin-top: 8px;
        align-self: flex-start;
        background: linear-gradient(120deg, #f97316, #ec4899);
        border: none;
        padding: 12px 28px;
        border-radius: 999px;
        font-weight: 600;
        letter-spacing: 0.05em;
        text-transform: uppercase;
        box-shadow: 0 18px 35px rgba(236,72,153,0.35);
    }
    .teacher-empty {
        padding: 32px;
        border: 1px dashed rgba(255,255,255,0.25);
        border-radius: 18px;
        text-align: center;
        color: rgba(255,255,255,0.8);
        font-size: 0.95rem;
    }
    @media (max-width: 992px) {
        .teacher-manager-grid {
            grid-template-columns: 1fr;
        }
    }
</style>
{% endblock %}

{% block content %}
<div class="teacher-card">
    <div class="teacher-header">
        <div class="title">
            <span class="icon">üë©‚Äçüè´</span>
            <div>
                <h2>Qu·∫£n l√Ω Gi·∫£ng vi√™n</h2>
                <p>Theo d√µi danh b·∫° v√† m·ªü nhanh t√†i kho·∫£n m·ªõi cho gi·∫£ng vi√™n.</p>
            </div>
        </div>
        <span class="teacher-count">
            <i class="fa-solid fa-users"></i>
            <strong>{{ teacher_count }}</strong> Gi·∫£ng vi√™n
        </span>
    </div>

    <div class="teacher-manager-grid">
        <div class="teacher-panel teacher-list">
            <h3>Danh s√°ch hi·ªán c√≥</h3>
            {% if teachers %}
                <div class="teacher-table-wrapper">
                    <table class="teacher-table">
                        <thead>
                            <tr>
                                <th>M√£ GV</th>
                                <th>H·ªç t√™n</th>
                                <th>B·ªô m√¥n</th>
                                <th>Email</th>
                                <th>SƒêT</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for teacher in teachers %}
                            <tr>
                                <td>{{ teacher.ma_gv }}</td>
                                <td>{{ teacher.ho_ten or 'Ch∆∞a c·∫≠p nh·∫≠t' }}</td>
                                <td>{{ teacher.bo_mon_khoa or '‚Äî' }}</td>
                                <td>{{ teacher.email or '‚Äî' }}</td>
                                <td>{{ teacher.so_dien_thoai or '‚Äî' }}</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            {% else %}
                <div class="teacher-empty">
                    Ch∆∞a c√≥ gi·∫£ng vi√™n n√†o trong h·ªá th·ªëng. H√£y th√™m t√†i kho·∫£n m·ªõi ·ªü b·∫£ng b√™n c·∫°nh.
                </div>
            {% endif %}
        </div>

        <div class="teacher-panel teacher-form">
            <h3>T·∫°o t√†i kho·∫£n gi·∫£ng vi√™n</h3>
            <small>M·∫≠t kh·∫©u m·∫∑c ƒë·ªãnh s·∫Ω l√† <code>ma_gv@123</code>. B·∫°n c√≥ th·ªÉ ƒë·∫∑t m·∫≠t kh·∫©u kh√°c b√™n d∆∞·ªõi.</small>
            <form method="POST" action="{{ url_for('admin_create_teacher') }}">
                <label for="ma_gv">M√£ gi·∫£ng vi√™n *</label>
                <input type="text" id="ma_gv" name="ma_gv" placeholder="vd: gvptit01" required>

                <label for="ho_ten">H·ªç t√™n *</label>
                <input type="text" id="ho_ten" name="ho_ten" required>

                <label for="email">Email</label>
                <input type="email" id="email" name="email" placeholder="name@ptit.edu.vn">

                <label for="so_dien_thoai">S·ªë ƒëi·ªán tho·∫°i</label>
                <input type="text" id="so_dien_thoai" name="so_dien_thoai">

                <label for="bo_mon_khoa">B·ªô m√¥n / Khoa</label>
                <input type="text" id="bo_mon_khoa" name="bo_mon_khoa" list="teacher-departments" placeholder="vd: C√¥ng ngh·ªá th√¥ng tin">
                <datalist id="teacher-departments">
                    {% for dept in teacher_departments %}
                        <option value="{{ dept }}">
                    {% endfor %}
                </datalist>

                <label for="password">M·∫≠t kh·∫©u t√πy ch·ªçn</label>
                <input type="text" id="password" name="password" placeholder="ƒê·ªÉ tr·ªëng ƒë·ªÉ d√πng m·∫≠t kh·∫©u m·∫∑c ƒë·ªãnh">

                <input type="submit" value="Th√™m gi·∫£ng vi√™n">
            </form>
        </div>
    </div>
</div>
{% endblock %}
